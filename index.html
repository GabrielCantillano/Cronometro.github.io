<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cronómetros por Máquina</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <ion-icon src="/path/to/external/file.svg"></ion-icon>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #1f2944;
      padding: 20px;
      margin: 0;
    }

    h1 {
      text-align: center;
      margin-bottom: 25px;
      color: #ffffff;
      font-size: 24px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      max-width: 1300px;
      margin: 0 auto;
    }

    .timer-box {
      background: #ffffff;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(255, 255, 255, 0.1);
      text-align: center;
      font-size: 14px;
    }

    .timer-box h2 {
      margin-bottom: 8px;
      font-size: 16px;
      color: #34495e;
    }

    input[type="number"], button {
      font-size: 12px;
      padding: 6px 8px;
      margin: 6px 3px;
      border: 1px solid #ccc;
      border-radius: 4px;
      width: 60px;
    }

    button {
      background-color: #4caf50;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #43a047;
    }

    .progress-container {
      background-color: #eee;
      height: 20px;
      width: 100%;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 10px;
      position: relative;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #4caf50, #81c784);
      transition: width 0.5s linear;
      text-align: right;
      color: white;
      font-size: 12px;
      padding-right: 4px;
      line-height: 20px;
    }

    .elapsed {
      font-size: 12px;
      margin-top: 4px;
      color: #666;
    }

    .Imagen{
      height: 50px;
      width: 160px;
      margin-left: 145vh;
      position: relative;
    }
  </style>
</head>
<body>

  <h1>Tiempo de montaje / Maquinas Serigrafia</h1>
  

  <div class="grid" id="grid">
    <!-- Se generan dinámicamente los 14 cronómetros -->
  </div>

  <script>
    const grid = document.getElementById('grid');
    const totalMachines = 14;
    const timers = [];

    for (let i = 1; i <= totalMachines; i++) {
      const box = document.createElement('div');
      box.className = 'timer-box';
      box.innerHTML = `
        <h2>Máquina ${i}</h2>
        <input type="number" id="input${i}" placeholder="Pantallas" />
        <button onclick="startTimer(${i})">Iniciar</button>
        <div class="progress-container">
          <div id="progress${i}" class="progress-bar">0%</div>
        </div>
        <div id="time${i}" class="elapsed">0 min</div>
        <div id="duration${i}" class="elapsed">Tiempo por pantalla 0 min</div>
      `;
      grid.appendChild(box);
      timers[i] = null;
    }

    function startTimer(id) {
      const input = document.getElementById(`input${id}`);
      const durationMin = parseInt(input.value);
      if (isNaN(durationMin) || durationMin <= 0) {
        alert(`Máquina ${id}: ingresa un número válido mayor a cero.`);
        return;
      }

      const duration = durationMin * 7.67 * 60 * 1000;
      const startTime = Date.now();
      const progress = document.getElementById(`progress${id}`);
      const timeLabel = document.getElementById(`time${id}`);
      const timeduration = document.getElementById(`duration${id}`);

      clearInterval(timers[id]);

      timers[id] = setInterval(() => {
        const now = Date.now();
        const elapsed = now - startTime;
        const percent = Math.min(100, (elapsed / duration) * 100);
        const minutes = Math.floor(elapsed / 60000);
        const seconds = Math.floor((elapsed % 60000) / 1000);

        progress.style.width = percent + "%";
        progress.innerText = percent.toFixed(0) + "%";
        timeLabel.innerText = `${minutes} min ${seconds < 10 ? '0' : ''}${seconds}s`;
        timeduration.innerText = durationMin+" x 7.67 = "+(durationMin * 7.67) + " Min";

        if (percent >= 100) {
          clearInterval(timers[id]);
          progress.innerText = "✔";
        }
      }, 1000);
    }
  </script>

  <img src="/TEGRA OUTMANEUVER OUTPERFORM.png" alt="HOla" class="Imagen">

</body>
</html>
